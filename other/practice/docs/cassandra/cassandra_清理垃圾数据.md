# cassandra 清理垃圾数据

---

cassandra在扩容一个节点到新集群的时候，有些数据会复制一份到新节点，然后属于新节点的数据仍然存在那些老节点上。它自己不会主动的去删除。所以在每次扩容之后，你需要在每个老节点上执行cleanup操作

* cleanup操作在执行过程中可能会生成一些临时文件，并且导致IO利用率少许上升，机器负载少许增加，
* cleanup是单线程操作，整体上影响不大，不需要关闭压缩。
* cleanup是单机行为，也不需要限制节点stream传输。
* 只要不是业务特别繁忙的时间，尽可放心的逐节点执行。
* cleanup在扩容之后随时可以执行。也可以指定只cleanup某个keyspace或者columnFamily
